<div class="layout page">
  @if (collection) {
    <div class="layout-header">
      <bc-sub-navigation-bar [type]="'subpage'" [border]="false" (actionClick)="back()">
        <bc-breadcrumbs sub-navigation-title>
          <bc-breadcrumb-item [link]="'../../../'">{{
            'COLLECTION.CHECK_SAMPLES.BREADCRUMBS.' +
              (collection.collection.type === collectionTypes.COLLECTION_TYPE_REFERENDUM ? 'REFERENDUMS' : 'INITIATIVES') | translate
          }}</bc-breadcrumb-item>
          <bc-breadcrumb-item [link]="'../'">{{ 'COLLECTION.CHECK_SAMPLES.BREADCRUMBS.OVERVIEW' | translate }}</bc-breadcrumb-item>
          <bc-breadcrumb-item>{{ 'COLLECTION.CHECK_SAMPLES.BREADCRUMBS.SAMPLES' | translate }}</bc-breadcrumb-item>
        </bc-breadcrumbs>
        <div></div>
        <!-- placeholder which is forcing divider to be displayed -->
      </bc-sub-navigation-bar>
      <bc-divider [orientation]="'horizontal'"></bc-divider>
      <app-check-samples-header></app-check-samples-header>
    </div>

    <div class="layout-content m-3">
      <div class="flex justify-end">
        @if (signatureSheets?.length === 0) {
          <p class="flex-1">{{ 'COLLECTION.CHECK_SAMPLES.SAMPLES.NO_SAMPLES' | translate }}</p>
        }
        <bc-button
          [label]="'COLLECTION.CHECK_SAMPLES.SAMPLES.ADD' + (signatureSheets?.length === 0 ? '' : '_ADDITIONAL') | translate"
          [variant]="'primary'"
          (buttonClick)="addSamples()"
        ></bc-button>
      </div>

      @if (loading || !signatureSheets) {
        <bc-spinner class="m-3"></bc-spinner>
      } @else if (signatureSheets.length > 0) {
        <div class="table-container">
          <app-check-samples-signature-sheet-table
            [collectionId]="collection.id"
            [signatureSheets]="signatureSheets"
            [showActionsColumn]="false"
            [sortByStateAndMunicipalityName]="true"
          ></app-check-samples-signature-sheet-table>
        </div>
      }
    </div>
  }
</div>
