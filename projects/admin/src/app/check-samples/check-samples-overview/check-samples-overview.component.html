<div class="layout page">
  @if (collection) {
    <div class="layout-header">
      <bc-sub-navigation-bar [type]="'subpage'" [border]="false" (actionClick)="back()">
        <bc-breadcrumbs sub-navigation-title>
          <bc-breadcrumb-item [link]="'../../'">{{
            'COLLECTION.CHECK_SAMPLES.BREADCRUMBS.' +
              (collection.collection.type === collectionTypes.COLLECTION_TYPE_REFERENDUM ? 'REFERENDUMS' : 'INITIATIVES') | translate
          }}</bc-breadcrumb-item>
          <bc-breadcrumb-item>{{ 'COLLECTION.CHECK_SAMPLES.BREADCRUMBS.OVERVIEW' | translate }}</bc-breadcrumb-item>
        </bc-breadcrumbs>
        <div></div>
        <!-- placeholder which is forcing divider to be displayed -->
      </bc-sub-navigation-bar>
      <bc-divider [orientation]="'horizontal'"></bc-divider>
      <app-check-samples-header></app-check-samples-header>
    </div>

    <div class="layout-content m-3">
      <div class="flex gap-3">
        <bc-card [backgroundColor]="'success'" [border]="false">
          <bc-card-header class="p-3">
            <bc-card-subtitle [label]="'COLLECTION.CHECK_SAMPLES.VARIANT_1' | translate"></bc-card-subtitle>
          </bc-card-header>
        </bc-card>
        <bc-card [backgroundColor]="'success'" [border]="false">
          <bc-card-header class="p-3">
            <bc-card-subtitle [label]="'COLLECTION.CHECK_SAMPLES.VARIANT_2' | translate"></bc-card-subtitle>
            <bc-button class="ml-3" [label]="'COLLECTION.CHECK_SAMPLES.GENERATE_SAMPLES' | translate" [variant]="'primary'" (buttonClick)="openRandomList()"></bc-button>
          </bc-card-header>
        </bc-card>
      </div>

      @if (loading || !municipalities) {
        <bc-spinner class="m-3"></bc-spinner>
      } @else {
        <div class="table-container">
          <app-check-samples-municipality-table  [municipalities]="municipalities" [collectionId]="collection.id" (collectionCountChanged)="collection.collection.attestedCollectionCount = $event"></app-check-samples-municipality-table>
        </div>
      }
    </div>
  }
</div>
